var _parcelHelpers = require("@parcel/transformer-js/lib/esmodule-helpers.js");
_parcelHelpers.defineInteropFlag(exports);
var _viewJs = require("./view.js");
var _viewJsDefault = _parcelHelpers.interopDefault(_viewJs);
var _configJs = require("../config.js");
function _defineProperty(obj, key, value) {
  if ((key in obj)) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
class fiveDayForecastView extends _viewJsDefault.default {
  constructor(...args) {
    super(...args);
    _defineProperty(this, "_parentElement", document.querySelector(".forecast-week"));
  }
  addHandlerClick(handler) {
    this._parentElement.addEventListener("click", function (e) {
      const el = e.target.closest(".forecast-week-item");
      if (!el) return;
      Array.from(el.parentElement.children).forEach(e => e.classList.remove("active"));
      el.classList.add("active");
      handler(el.dataset.date);
    });
  }
  _generateMarkup() {
    return this._data.map(result => {
      return `
      <li class="forecast-week-item" data-date="${result.dt_txt.split(" ")[0]}">
        <div class="forecast-week-result">
          <img src="http://openweathermap.org/img/wn/${result.weather.icon}.png" alt="" />
          <div class="desc-week">
            <h2>${_configJs.WEEKDAYS[new Date(result.dt * 1000).getDay()]}</h2>
            <span>${result.weather.main}</span>
            <h2>${result.main.temp}Â°C</h2>
          </div>
        </div>
      </li>
        `;
    }).join("");
  }
}
exports.default = new fiveDayForecastView();
